
(:TYPE :SYSTEM :NAME "clack-middleware-oauth" :AUTHOR "Eitarow Fukamachi"
 :MAINTAINER NIL :VERSION "11.9" :LICENCE "LLGPL" :DESCRIPTION
 "Supports authorization mechanism by OAuth" :LONG-DESCRIPTION NIL :DEPENDS-ON
 ("CLACK" "CL-SYNTAX" "CL-SYNTAX-ANNOT" "CL-OAUTH" "ANAPHORA") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CLACK.MIDDLEWARE.OAUTH" :FULL-NAME
   "CLACK.MIDDLEWARE.OAUTH" :DOCUMENTATION "# 
Clack.Middleware.OAuth - Supports authorization mechanism by OAuth.


## SYNOPSIS

    (run
      (builder
       (<clack-middleware-oauth>
         :consumer-key \"XXXXXXXXXXXXXXXXXXXXX\"
         :consumer-secret \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"
         :authorize-uri \"http://localhost/authorize\"
         :request-token-uri \"http://localhost/request\"
         :access-token-uri \"http://localhost/access\"
         :path \"/auth\"
         :callback-base \"http://localhost/\"
         :authorized #'callback)
       app))

## DESCRIPTION

This is a Clack Middleware for OAuth.
Please read rfc5849 for more information.

## Slots

* consumer-key, consumer-secret (Required, String)

OAuth parameter.

* authorize-uri, request-token-uri, access-token-uri (Required, String)

URIs to process OAuth.

* path

A path to be handled by <clack.middleware.oauth>.

* callback-base

A host address will be passed to OAuth Provider.
(format nil \"~a~a\" `callback-base' `path') should be valid URI.

* authorized (Required, function)

A callback function when authorization is suceeded.
It will be called with two parameters: clack request and cl-oauth:access-token.


## AUTHOR

* Norihisa Fujita (n.fujita@ariel-networks.com)

"
   :SYMBOL-LIST
   ((:TYPE :CLASS :SYMBOL
     (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
      :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "<MIDDLEWARE>" :PACKAGE-NAME "CLACK.MIDDLEWARE" :EXTERNALP T))
     :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "PATH" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "OAUTH-PATH" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
         NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CALLBACK-BASE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-CALLBACK-BASE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CALLBACK-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-CALLBACK-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CONSUMER-KEY" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-CONSUMER-KEY" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CONSUMER-SECRET" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "OAUTH-CONSUMER-SECRET" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "AUTHORIZE-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-AUTHORIZE-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "REQUEST-TOKEN-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "OAUTH-REQUEST-TOKEN-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "ACCESS-TOKEN-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "OAUTH-ACCESS-TOKEN-URI" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "AUTHORIZED" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-AUTHORIZED" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "STATE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "OAUTH-STATE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
         NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "STATE-EXPIRE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
        NIL)
       :ACCESSORS
       ((:NAME "OAUTH-STATE-EXPIRE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :METHOD :SYMBOL
     (:NAME "CALL" :PACKAGE-NAME "CLACK.COMPONENT" :EXTERNALP T) :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "ENV" :PACKAGE-NAME "CLACK.REQUEST" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBTAIN-REQUEST-TOKEN-FROM-PROVIDER" :PACKAGE-NAME
      "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBTAIN-REQUEST-TOKEN" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBTAIN-ACCESS-TOKEN" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ-TOKEN" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
       NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLEANUP-STATES" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :MACRO :SYMBOL
     (:NAME "LOOP-HASHTAB-NEXT-59" :PACKAGE-NAME NIL :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "IS-EXPIRED" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "OAUTH-TOKEN" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
       NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "IS-AUTHORIZING" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "AUTHORIZE" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "AUTHORIZE-INIT" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "AUTHORIZE-CONT" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "THIS" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL)
       (:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
        :EXTERNALP T))
      (:NAME "REQ" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH" :EXTERNALP NIL))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "<CLACK-MIDDLEWARE-OAUTH>" :PACKAGE-NAME "CLACK.MIDDLEWARE.OAUTH"
     :EXTERNALP T)))))
