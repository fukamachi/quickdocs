
(:TYPE :SYSTEM :NAME "simple-currency" :AUTHOR
 "Peter Wood, email: pete_wood at runbox.com" :MAINTAINER NIL :VERSION "0.0.1"
 :LICENCE "BSD, 2 clause." :DESCRIPTION
 "SIMPLE-CURRENCY provides conversions between
    currencies using data published daily by the European Central
    Bank, no guarantees about the accuracy of the data are given or
    even implied. For details of the ECB FX rates see:

    http://www.ecb.int/stats/exchange/eurofxref/html/index.en.html"
 :LONG-DESCRIPTION NIL :DEPENDS-ON
 ("DRAKMA" "XMLS" "SIMPLE-DATE" "SPLIT-SEQUENCE" "CL-STORE") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "SIMPLE-CURRENCY" :FULL-NAME "SIMPLE-CURRENCY"
   :DOCUMENTATION NIL :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*CURRENCIES*" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(MAKE-HASH-TABLE :TEST 'EQUAL)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*STORED-CURRENCY-HASH*" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP
      T)
     :DOCUMENTATION NIL :INITIAL-VALUE "\"stored-currency-hash\"")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PARSE-RATIONAL" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-DATE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CCYDB-DATE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "NORMALIZE-CURRENCY-DESIGNATOR" :PACKAGE-NAME "SIMPLE-CURRENCY"
      :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "KW" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UPDATE-CURRENCY-HASH" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP
      T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Returns the updated hash table stored in global variable
*CURRENCIES* if the update is believed to be successful, or restores
the old stored hash table if the call to ECB failed and returns the
old table, or NIL if both options failed for any reason.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "AVAILABLE-CURRENCIES" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP
      T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GETBASE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "CURR" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INTERVAL-SINCE-UPDATE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "DATE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "CONVERT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION "Converts AMOUNT between currencies FROM and TO,
which should be keywords designating 3 letter currency codes.  Returns
2 values: a rational number representing the converted amount in TO
currency, and a SIMPLE-DATE:INTERVAL representing the interval since
the currency hash was last updated.  For a list of available currency
codes call (AVAILABLE-CURRENCIES).")
    (:TYPE :METHOD :SYMBOL
     (:NAME "CONVERT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CONVERT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EUR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CONVERT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EUR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "GET-QUOTE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION "Return 3 values: 1) The conversion as a rational,
  2) the rate for converting from FROM to TO as a rational, and 3) a
  SIMPLE-DATE:INTERVAL representing the interval since the currency
  hash was last updated.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "GET-QUOTE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "GET-QUOTE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EUR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "GET-QUOTE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "NUMBER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "FROM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "TO" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EUR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "2DD-ROUND" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "RAT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DISPLAY-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "AMOUNT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CCODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "CONVERSION-FORM" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*CURRENCY-DATA*" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(MAKE-HASH-TABLE :TEST #'EQUALP)")
    (:TYPE :CLASS :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "COUNTRY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS
       ((:NAME "CCY-COUNTRY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "NAME" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS
       ((:NAME "CCY-NAME" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "ACODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS
       ((:NAME "CCY-ACODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "NCODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS
       ((:NAME "CCY-NCODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "DDIGITS" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS
       ((:NAME "CCY-DDIGITS" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :GENERIC :SYMBOL
     (:NAME "LOOKUP-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "LOOKUP-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "LOOKUP-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       (:NAME "SYMBOL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      (:NAME "QUERY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      ((:NAME "QUERY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "DDIGITS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      ((:NAME "QUERY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "COUNTRY" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      ((:NAME "QUERY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "NAME" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
      ((:NAME "QUERY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "NCODE" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "CONVERT" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "2DD-ROUND" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "*STORED-CURRENCY-HASH*" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP
     T)
    (:NAME "AVAILABLE-CURRENCIES" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCY-COUNTRY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "DISPLAY-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCYDB-DATE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "WITH-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "LOOKUP-CURRENCY" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCY-DDIGITS" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "GET-QUOTE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCY-NCODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "UPDATE-CURRENCY-HASH" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCY-NAME" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CURRENCY-DATA" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)
    (:NAME "CCY-ACODE" :PACKAGE-NAME "SIMPLE-CURRENCY" :EXTERNALP T)))))
