
(:TYPE :SYSTEM :NAME "cl-inotify" :AUTHOR
 "Olof-Joachim Frahm <olof@macrolet.net>" :MAINTAINER NIL :VERSION NIL :LICENCE
 "Simplified BSD License" :DESCRIPTION "Inotify binding" :LONG-DESCRIPTION
 "Binding to the Linux inotify(7) API." :DEPENDS-ON
 ("CFFI" "BINARY-TYPES" "TRIVIAL-UTF-8" "OSICAT" "IOLIB") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CL-INOTIFY" :FULL-NAME "CL-INOTIFY" :DOCUMENTATION
   "A binding (not only?) for the LINUX inotify(7) API." :SYMBOL-LIST
   ((:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-CLOEXEC" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "524288")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-NONBLOCK" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "2048")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ACCESS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "1")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MODIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "2")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ATTRIB" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "4")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-CLOSE-WRITE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "8")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-CLOSE-NOWRITE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "16")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-CLOSE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "24")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-OPEN" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :DOCUMENTATION
     NIL :INITIAL-VALUE "32")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MOVED-FROM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "64")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MOVED-TO" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "128")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MOVE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :DOCUMENTATION
     NIL :INITIAL-VALUE "192")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-CREATE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "256")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-DELETE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "512")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-DELETE-SELF" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "1024")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MOVE-SELF" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "2048")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-UNMOUNT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "8192")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-Q-OVERFLOW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "16384")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-IGNORED" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "32768")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ONLYDIR" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "16777216")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-DONT-FOLLOW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "33554432")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-MASK-ADD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "536870912")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ISDIR" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "1073741824")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ONESHOT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "2147483648")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "IN-ALL-EVENTS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "4095")
    (:TYPE :TYPE :SYMBOL
     (:NAME "INOTIFY-ADD/READ-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :TYPE :SYMBOL
     (:NAME "INOTIFY-READ-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :TYPE :SYMBOL
     (:NAME "INOTIFY-ADD-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "VALID-WATCH-FLAG-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "X" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "VALID-WATCH-FLAG-LIST-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "LIST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :TYPE :SYMBOL
     (:NAME "WATCH-FLAG-LIST" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INOTIFY-INIT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Initialises a new inotify event queue.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INOTIFY-INIT1" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Initialises a new inotify event queue and passes some flags along.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INOTIFY-ADD-WATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "MASK" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION "Watches a path on an event queue.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INOTIFY-RM-WATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "WD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION "Removes a watched path from an event queue.")
    (:TYPE :TYPE :SYMBOL
     (:NAME "INT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :LAMBDA-LIST
     (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) :DOCUMENTATION NIL)
    (:TYPE :STRUCT :SYMBOL
     (:NAME "INOTIFY-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "An inotify native event structure.
WD is the watch/file descriptor,
MASK is the (parsed) combination of events,
COOKIE is a unique integer which connects related events,
NAME optionally identifies a file relative to a watched directory."
     :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "WD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "MASK" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "COOKIE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "NAME" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-INOTIFY-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "WD" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM119" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "MASK" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM120" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "COOKIE" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM121" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "NAME" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM122" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :STRUCT :SYMBOL
     (:NAME "INOTIFY-INSTANCE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Contains the stream and file descriptor for a inotify instance."
     :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-INOTIFY-INSTANCE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-NEW-VALUE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "*QUERY-IO*" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "READs a value from the STREAM and returns it (wrapped in a list).")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INIT-ENDIAN" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION
     "Initialises the endianess for the BINARY-TYPES library.  Is automatically
called when the library is loaded.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-RAW-EVENT-FROM-STREAM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      T)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Reads a raw event from the inotify stream.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-EVENT-FROM-STREAM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Reads a event from the inotify stream and converts bitmasks on reading.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SET-NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Enables or disables NONBLOCKING mode on a file descriptor FD.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INIT-UNREGISTERED-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "Creates a new inotify event queue.  If NONBLOCKING is set (default),
the file descriptor is set to non-blocking I/O.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-UNREGISTERED-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION "Creates a new unregistered INOTIFY instance.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CLOSE-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION "Closes the inotify event queue.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "ENSURE-LIST" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "ARG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "TRANSLATE-KEYWORD-FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "WATCH-RAW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Adds PATHNAME (either of type PATHNAME or STRING) to be watched.  FLAGS
determines how exactly (see inotify(7) for detailed information) and can
be of type LIST, KEYWORD or a raw numerical value (which isn't checked
for validity though).  Returns a handle which can be used with UNWATCH-RAW.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UNWATCH-RAW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "HANDLE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Stops watching the path associated with a HANDLE established by WATCH-RAW.")
    (:TYPE :STRUCT :SYMBOL
     (:NAME "REGISTERED-INOTIFY-INSTANCE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      NIL)
     :SUPER-CLASS-LIST
     ((:NAME "INOTIFY-INSTANCE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Additionally to the information in INOTIFY-INSTANCE, records watched
paths in a dictionary."
     :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "WATCHED" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-REGISTERED-INOTIFY-INSTANCE" :PACKAGE-NAME "CL-INOTIFY"
      :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "Creates a new registered INOTIFY instance.  In NONBLOCKING mode, the file
descriptor is set to non-blocking mode.  The resulting object has to be
closed with CLOSE-INOTIFY.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PATHNAME-HANDLE/FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Returns a CONS cell with the values HANDLE and FLAGS if PATHNAME is
being watched by INOTIFY, else NIL.  The match is exact.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EVENT-PATHNAME/FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "HANDLE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       ((:NAME "SLOT-VALUE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
        ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
         (:NAME "WD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)))))
     :DOCUMENTATION
     "Returns two values PATHNAME and FLAGS for an EVENT which were used during
registration.  If HANDLE is specified EVENT is ignored.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SANE-USER-FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "REPLACE-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "WATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "REPLACE-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "Adds PATHNAME (either pathname or string) to be watched and records the
watched paths.  FLAGS (a list of keywords) determines how exactly (see
inotify(7) for detailed information).  Returns a handle which can be used
with UNWATCH and EVENT-PATHNAME/FLAGS.  If REPLACE-P is set to T (default),
the flags mask is replaced rather than OR-ed to the current mask (if it
exists).  The :MASK-ADD flag is therefore removed from the FLAGS argument.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UNWATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
      (:NAME "HANDLE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Disables watching the path associated with the supplied HANDLE (which
may be one from a given EVENT) or PATHNAME.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LIST-WATCHED" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Returns a LIST of all watched pathnames in no particular order.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UNIX-EAGAIN-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Returns T on a file descriptor if trying to read raised an EAGAIN
error.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EVENT-AVAILABLE-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION "Returns T if an event is available on the queue.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Reads an event from the queue.  Blocks if no event is available.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "NEXT-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Reads an event from the queue.  Returns NIL if none is available.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "DO-EVENTS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     (((:NAME "VAR" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "BLOCKING-P" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Loops BODY with VAR bound to the next events retrieved from INOTIFY.
The macro uses NEXT-EVENT, so reading an event won't block and the loop
terminates if no events are available.  If BLOCKING-P is set, the loop
blocks if no events are available, otherwise it exits as soon as no
events were encountered.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "NEXT-EVENTS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Reads all available events from the queue.  Returns a LIST of events.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-UNREGISTERED-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
      T)
     :LAMBDA-LIST
     (((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       ((:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
        (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
       (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Like WITH-INOTIFY, but uses MAKE-UNREGISTERED-INOTIFY and WATCH-RAW
instead.  Useful if you need to monitor just a fixed set of paths.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
       (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       ((:NAME "NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL)
        (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
       (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP NIL))
     :DOCUMENTATION
     "Executes BODY with a newly created queue bound to INOTIFY if true.
See MAKE-INOTIFY for more information about possible arguments.

The REST is a list of argument forms for the WATCH function, i.e. one or
more forms (PATHNAME FLAGS &KEY (REPLACE-P T)).

Since the QUEUE is closed on unwinding, this macro doesn't bother with
UNWATCH calls on all WATCHed paths."))
   :EXTERNAL-SYMBOLS
   ((:NAME "EVENT-AVAILABLEP" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-EVENT-WD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-ADD/READ-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "WITH-UNREGISTERED-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "EVENT-PATHNAME/FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "WITH-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-NONBLOCKING" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "NEXT-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "NEXT-EVENTS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-FD" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-READ-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "MAKE-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "WATCH-RAW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "PATHNAME-HANDLE/FLAGS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "READ-RAW-EVENT-FROM-STREAM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP
     T)
    (:NAME "INOTIFY-EVENT-MASK" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "CLOSE-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-STREAM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-EVENT-COOKIE" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "READ-EVENT" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-EVENT-NAME" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "UNWATCH-RAW" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "UNWATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "MAKE-UNREGISTERED-INOTIFY" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "LIST-WATCHED" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "WATCH" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "READ-EVENT-FROM-STREAM" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "INOTIFY-ADD-FLAG" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)
    (:NAME "DO-EVENTS" :PACKAGE-NAME "CL-INOTIFY" :EXTERNALP T)))))
