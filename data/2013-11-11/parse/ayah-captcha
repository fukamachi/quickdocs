
(:TYPE :SYSTEM :NAME "ayah-captcha" :AUTHOR
 "Andy Peterson <andy.arvid@gmail.com>" :MAINTAINER NIL :VERSION "0.1" :LICENCE
 "MIT" :DESCRIPTION
 "A simple interface to the API of the play-thru captcha of areYouAHuman.com"
 :LONG-DESCRIPTION NIL :DEPENDS-ON ("DRAKMA" "CL-JSON") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "AYAH-CAPTCHA" :FULL-NAME "AYAH-CAPTCHA" :DOCUMENTATION
   NIL :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
     :DOCUMENTATION
     "The default web service host for the areyouahuman play-thru captcha."
     :INITIAL-VALUE "\"ws.areyouahuman.com\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PUBLISHER-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
     :DOCUMENTATION
     "Identifies you and your application to the areyouahuman web service."
     :INITIAL-VALUE "\"5CA1AB1E00000000000000000000000000000000000\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SCORING-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
     :DOCUMENTATION
     "Used to retrieve pass or fail results from areyouahuman web service."
     :INITIAL-VALUE "\"B01DFACE00000000000000000000000000000000000\"")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PUBLISHER-SCRIPT-URL" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "PUBLISHER-KEY" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*PUBLISHER-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T))
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION "Returns URL for script to be loaded within the form.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PUBLISHER-HTML" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "PUBLISHER-KEY" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*PUBLISHER-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T))
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION
     "Returns HTML snippet to be inserted within the html form to display
play-thru content. Will pass the parameter session_secret on submit to be
passed onto the function human-p")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SCORING-URL" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION
     "Returns the URL for an http-request post to obtain the scoring result.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HUMAN-P" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "SESSION-SECRET" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "SCORING-KEY" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*SCORING-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T))
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION
     "session-secret should be the value of the parameter session_secret
submitted by the form containing publisher-html. Returns boolean value
indicating whether the client passed the captcha test. ")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RECORD-CONVERSATION-URL" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "SESSION-SECRET" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RECORD-CONVERSATION-HTML" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "SESSION-SECRET" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "HOST" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP NIL)
       (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))
     :DOCUMENTATION
     "Returns the HTML snippet needed to be embedded in the confirmation page
after a form submission. Once the code loads on the page it will record
a conversion with our system.
    session-secret
       Pass in the value of the hidden input field with id='session_secret'
"))
   :EXTERNAL-SYMBOLS
   ((:NAME "HUMAN-P" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
    (:NAME "PUBLISHER-HTML" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
    (:NAME "RECORD-CONVERSATION-HTML" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP
     T)
    (:NAME "*PUBLISHER-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
    (:NAME "*SCORING-KEY*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)
    (:NAME "*WEB-SERVICE-HOST*" :PACKAGE-NAME "AYAH-CAPTCHA" :EXTERNALP T)))))
