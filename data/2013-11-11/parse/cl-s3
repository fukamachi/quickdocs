
(:TYPE :SYSTEM :NAME "cl-s3" :AUTHOR "Sven Van Caekenberghe <svc@mac.com>"
 :MAINTAINER "Sven Van Caekenberghe <svc@mac.com>" :VERSION "1" :LICENCE
 "Lesser Lisp General Public License (LLGPL)" :DESCRIPTION
 "A Common Lisp Amazon S3 client interface package" :LONG-DESCRIPTION NIL
 :DEPENDS-ON ("S-HTTP-CLIENT" "S-XML" "S-UTILS" "S-BASE64" "IRONCLAD")
 :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CL-S3" :FULL-NAME "CL-S3" :DOCUMENTATION
   "A Common Lisp Amazon S3 client interface package" :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*AMAZON-HOST*" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "\"s3.amazonaws.com\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*ACCESS-KEY-ID*" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
     :DOCUMENTATION
     "The value of your Amazon Web Services public access key ID"
     :INITIAL-VALUE "\"\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SECRET-ACCESS-KEY*" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
     :DOCUMENTATION "The value of your Amazon Web Services secret access key"
     :INITIAL-VALUE "\"\"")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "REQUEST-DATE" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "UNIVERSAL-TIME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       ((:NAME "GET-UNIVERSAL-TIME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP
         T))))
     :DOCUMENTATION "Generate a GMT HTTP Request Date")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "+ZERO-UNIX-TIME+" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE
     "(ENCODE-UNIVERSAL-TIME 0 0 0 1 1 1970 0)")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UNIX-TIME->LISP-TIME" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "MS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Convert from Unix time to Common Lisp time")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LISP-TIME->UNIX-TIME" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "S" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Convert from Common Lisp time to Unix time")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HMAC-SHA1" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL) :LAMBDA-LIST
     ((:NAME "DATA-STRING" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "KEY-STRING" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION
     "Compute an RFC 2104 HMAC-SHA1 digest on data-string using key-string")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-AUTHORIZATION" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "VERB" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "RESOURCE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "DATE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "SECRET-ACCESS-KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       (:NAME "*SECRET-ACCESS-KEY*" :PACKAGE-NAME "CL-S3" :EXTERNALP T))
      (:NAME "CONTENT-MD5" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "AMZ-HEADERS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Compute an Amazon S3 authorization signature")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MD5SUM-SEQUENCE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "DATA-STRING" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Compute a MD5 digest on data-string")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*S3-NS*" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL) :DOCUMENTATION NIL
     :INITIAL-VALUE
     "(S-XML:REGISTER-NAMESPACE \"http://s3.amazonaws.com/doc/2006-03-01/\" \"S3\" :CL-S3)")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DO-S3-REQUEST" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL) :LAMBDA-LIST
     ((:NAME "VERB" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "URI" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CONTENT" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-LENGTH" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-MD5" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "AMZ-HEADERS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "QUERY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "BODY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-SERVICE" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) :DOCUMENTATION
     "List all available buckets")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PREFIX" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "MARKER" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "MAX-KEYS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "DELIMITER" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "List all keys in a bucket that satisfy a query")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PUT-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Create a new bucket")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DELETE-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Delete a bucket")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "OBJECT-KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CHECK-INTEGRITY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "BODY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Retrieve the object identified by key in bucket")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PUT-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "OBJECT-KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "AMZ-HEADERS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CHECK-INTEGRITY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "CONTENT-LENGTH" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION
     "Set the object identified by key in bucket to the specified content")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HEAD-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "OBJECT-KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION
     "Retrieve all meta-data for the the object identified by key in bucket")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DELETE-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "OBJECT-KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION "Delete the object identified by key in bucket")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LIST-BUCKETS" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) :DOCUMENTATION
     "Returns a list of all accessible buckets' string names")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LIST-OBJECTS" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET-NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PREFIX" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "MARKER" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "MAX-KEYS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "DELIMITER" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return a list of all keys' strings in bucket, satifying the query")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DOWNLOAD-FILE" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "KEY" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "DIR" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       (:NAME "SUPERSEDE" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))
      ((:NAME "ELEMENT-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        ((:NAME "UNSIGNED-BYTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) 8))))
     :DOCUMENTATION
     "Assuming key in bucket denotes a file, download it, optionally in dir")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UPLOAD-FILE" :PACKAGE-NAME "CL-S3" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "NAME" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
      ((:NAME "ELEMENT-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        ((:NAME "UNSIGNED-BYTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T) 8)))
      ((:NAME "MIME-TYPE" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL)
       "application/octet-stream")
      (:NAME "ACL" :PACKAGE-NAME "CL-S3" :EXTERNALP NIL))
     :DOCUMENTATION
     "Upload the file at pathname under bucket, optionally storing it under name"))
   :EXTERNAL-SYMBOLS
   ((:NAME "AMAZON-S3-API-ERROR" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "HEAD-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "GET-SERVICE" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "UPLOAD-FILE" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "DELETE-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "*SECRET-ACCESS-KEY*" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "LIST-OBJECTS" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "GET-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "UNIX-TIME->LISP-TIME" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "GET-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "PUT-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "DOWNLOAD-FILE" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "PUT-OBJECT" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "DELETE-BUCKET" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "MAKE-AUTHORIZATION" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "*ACCESS-KEY-ID*" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "REQUEST-DATE" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "LIST-BUCKETS" :PACKAGE-NAME "CL-S3" :EXTERNALP T)
    (:NAME "LISP-TIME->UNIX-TIME" :PACKAGE-NAME "CL-S3" :EXTERNALP T)))))
