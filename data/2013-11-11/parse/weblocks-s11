
(:TYPE :SYSTEM :NAME "weblocks-s11" :AUTHOR
 "Stephen Compall <scompall@nocandysw.com>" :MAINTAINER NIL :VERSION "0.1"
 :LICENCE "LLGPL" :DESCRIPTION "Stephen Compall's extensions to Weblocks."
 :LONG-DESCRIPTION NIL :DEPENDS-ON ("arnesi" "weblocks") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "WEBLOCKS-S11" :FULL-NAME "WEBLOCKS-S11" :DOCUMENTATION
   NIL :SYMBOL-LIST
   ((:TYPE :FUNCTION :SYMBOL
     (:NAME "DATAEDIT-EDITOR-INITARGS" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "DATAEDIT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "ITEM" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "ITEM?" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)))
     :DOCUMENTATION
     "Answer initargs appropriate for passing to a `data-editor' to talk
back to DATAEDIT when appropriate.  If ITEM, this is a form for an
existing instance.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "PERSISTENT-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION "Answer a list of objects to persist when persisting
SELF, via `persist-child'.  It will be cleared after such
persistence.")
    (:TYPE :CLASS :SYMBOL
     (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP
      T)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION
     "Provide the `persistent-children' accessor and
backing."
     :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSISTENT-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "ADD-CHILD-TO-PERSIST" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION "Arrange for CHILD to be sent `persist-child' when
persisting SELF.  ORDER may be of (member :before :after t nil),
determining when CHILD will be persisted relative to SELF.  NIL means
use `default-persist-child-order'.  T means do it both times, on the
off chance this means something.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "ADD-CHILD-TO-PERSIST" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T))
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       ((:NAME "DEFAULT-PERSIST-CHILD-ORDER" :PACKAGE-NAME "WEBLOCKS-S11"
         :EXTERNALP T)
        (:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
        (:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "PERSIST-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION "Access and persist `persistent-children' of SELF,
then remove them from the list.  This is always done by calling
`persist-child'.  ORDER indicates which should be taken.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T))
      (:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION
     "I provide the unneeded but nice additional feature that if any
persister exits non-locally, only it and the remaining children are
left in the queue for a re-call of `persist-children'.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "PERSIST-CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "PARENT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION "Persist CHILD as a consequence of PARENT.  The
default is to call `persist-object'.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "PARENT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T))
      (:NAME "ORDER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "DEFAULT-PERSIST-CHILD-ORDER" :PACKAGE-NAME "WEBLOCKS-S11"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "PARENT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION "Answer the time to persist CHILD relative to PARENT
when no explicit order is given to `add-child-to-persist'.

I intentionally fail to provide a default, because there isn't a good
one.  Use `define-default-persist-child-order' to make one
yourself.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "DEFINE-DEFAULT-PERSIST-CHILD-ORDER" :PACKAGE-NAME "WEBLOCKS-S11"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "CHILD-SPECIALIZER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "PARENT-SPECIALIZER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "EXPR" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Glue persistent children to the persistence API.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11"
        :EXTERNALP T))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Glue persistent children to the persistence API.")
    (:TYPE :CLASS :SYMBOL
     (:NAME "US-CENTS-PRINTER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION "Mixin for data and form; see
  `us-cents-presentation' and `us-cents-input-presentation'."
     :SLOT-LIST NIL)
    (:TYPE :CLASS :SYMBOL
     (:NAME "US-CENTS-PRESENTATION" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "US-CENTS-PRINTER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "TEXT-PRESENTATION" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T))
     :DOCUMENTATION "Present a count of US cents as a pretty US dollar
  amount."
     :SLOT-LIST NIL)
    (:TYPE :CLASS :SYMBOL
     (:NAME "US-CENTS-INPUT-PRESENTATION" :PACKAGE-NAME "WEBLOCKS-S11"
      :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "US-CENTS-PRINTER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "INPUT-PRESENTATION" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T))
     :DOCUMENTATION "The counterpart to `us-cents-presentation' for
  forms."
     :SLOT-LIST NIL)
    (:TYPE :CLASS :SYMBOL
     (:NAME "US-CENTS-PARSER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "TEXT-PARSER" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T))
     :DOCUMENTATION "Parse a US dollar amount and answer the # of US cents."
     :SLOT-LIST NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PRINT-VIEW-FIELD-VALUE" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "VALUE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      ((:NAME "SELF" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
       (:NAME "US-CENTS-PRINTER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
      (:NAME "FIELD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "VIEW" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
      (:NAME "WIDGET" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
      (:NAME "OBJ" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PARSE-VIEW-FIELD-VALUE" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "PARSER" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
       (:NAME "US-CENTS-PARSER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T))
      (:NAME "VALUE" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "OBJ" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "VIEW" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
      (:NAME "FIELD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP NIL))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "ADD-CHILD-TO-PERSIST" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "US-CENTS-PRESENTATION" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "US-CENTS-PARSER" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "DEFINE-DEFAULT-PERSIST-CHILD-ORDER" :PACKAGE-NAME "WEBLOCKS-S11"
     :EXTERNALP T)
    (:NAME "US-CENTS-INPUT-PRESENTATION" :PACKAGE-NAME "WEBLOCKS-S11"
     :EXTERNALP T)
    (:NAME "PERSISTENT-CHILDREN-MIXIN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP
     T)
    (:NAME "US-CENTS-INPUT" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "PERSISTENT-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "PERSIST-CHILDREN" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "PERSIST-CHILD" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "DATAEDIT-EDITOR-INITARGS" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP
     T)
    (:NAME "US-CENTS" :PACKAGE-NAME "WEBLOCKS-S11" :EXTERNALP T)
    (:NAME "DEFAULT-PERSIST-CHILD-ORDER" :PACKAGE-NAME "WEBLOCKS-S11"
     :EXTERNALP T)))))
