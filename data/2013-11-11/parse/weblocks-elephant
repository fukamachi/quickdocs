
(:TYPE :SYSTEM :NAME "weblocks-elephant" :AUTHOR "Ian Eslick" :MAINTAINER
 "Ian Eslick, Olexiy Zamkoviy, Scott L. Burson" :VERSION "0.1.1" :LICENCE
 "LLGPL" :DESCRIPTION "A weblocks backend for elephant." :LONG-DESCRIPTION NIL
 :DEPENDS-ON
 ("MOPTILITIES" "METATILITIES" "ELEPHANT" "WEBLOCKS" "WEBLOCKS-MEMORY"
  "WEBLOCKS-STORES")
 :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "WEBLOCKS-ELEPHANT" :FULL-NAME "WEBLOCKS-ELEPHANT"
   :DOCUMENTATION
   "A driver for weblocks backend store API that connects to Elephant."
   :SYMBOL-LIST
   ((:TYPE :CLASS :SYMBOL
     (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CONTROLLER" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "ELEPHANT-CONTROLLER" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "STDIDX" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "ELEPHANT-STDOBJ-INDEX" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :METHOD :SYMBOL
     (:NAME "INITIALIZE-INSTANCE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLASS-ID-SLOT-NAME" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "PERSISTENT-METACLASS" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "OBJ" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "OPEN-STORE" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE-TYPE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "ELEPHANT" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "SPEC" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLOSE-STORE" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLEAN-STORE" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLASS-STORE" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "PERSISTENT-METACLASS" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)))
     :DOCUMENTATION "This works if you only have one elephant store open")
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLASS-VISIBLE-SLOTS-IMPL" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        ((:NAME "FIND-CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
         ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
          (:NAME "PERSISTENT" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)))))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "READABLEP" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "WRITABLEP" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLASS-VISIBLE-SLOTS-IMPL" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       ((:NAME "EQL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        ((:NAME "FIND-CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
         ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
          (:NAME "CACHEABLE-PERSISTENT-OBJECT" :PACKAGE-NAME "ELEPHANT"
           :EXTERNALP NIL)))))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "READABLEP" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "WRITABLEP" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "USE-DYNAMIC-TRANSACTION-P" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DYNAMIC-TRANSACTION" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "PROC" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION
     "This dynamic hook wraps an elephant transaction macro around the body hooks.
   This allows us to gain the benefits of the stable transaction system in elephant")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      ((:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT-OBJECT" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-PERSISTENT-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      ((:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT-OBJECT" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-PERSISTENT-OBJECT-BY-ID" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-STORE-CONTROLLER" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "FIND-PERSISTENT-OBJECT-BY-ID" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-RANGED-COLLECTOR" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "VAR" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "RANGE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "FIND-PERSISTENT-OBJECTS" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ORDER-BY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "RANGE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "FILTER-FN" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "This implements a reasonably efficient form of the core weblocks query
   functionality for paged displays of objects.  More sophisticated stuff
   can be done via the on-query facility.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FILTER-OBJECTS-IN-MEMORY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "OBJECTS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "FN" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&AUX" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "RESULTS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "ADVANCED-ORDER-OBJECTS-IN-MEMORY" :PACKAGE-NAME
      "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "SEQ" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "ORDER-BY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION "Orders objects in 'seq' according to 'order-by'.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MULTI-VALUE-SORT-PREDICATE-ASC" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "ORDER-BY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "COUNT-PERSISTENT-OBJECTS" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FILTER-FN" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "A reasonably fast method for counting class instances")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-RANGED-COLLECTOR" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "COLLECTOR" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "RANGE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HAS-INDEX" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "CLASS-REF" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "SLOT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION
     "Test whether a given class has an index on its slot.  This helps us
   optimize find-persistent-objects")
    (:TYPE :MACRO :SYMBOL
     (:NAME "AIF" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "PRED" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "CON" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "ALT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "ENSURE-STANDARD-OBJECT-INDEX" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-STANDARD-OBJECT-INDEX" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-PERSISTENT-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES"
      :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      (:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DELETE-PERSISTENT-STANDARD-OBJECT-BY-ID" :PACKAGE-NAME
      "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-PERSISTENT-STANDARD-OBJECT-BY-ID" :PACKAGE-NAME
      "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-PERSISTENT-STANDARD-OBJECTS" :PACKAGE-NAME
      "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ORDER-BY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "RANGE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "FILTER-FN" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION "This implements a slow version of lookup")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COUNT-PERSISTENT-STANDARD-OBJECTS" :PACKAGE-NAME
      "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Count class instances")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PROXIES*" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(MAKE-HASH-TABLE)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*VIEW-PROXIES*" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(MAKE-HASH-TABLE)")
    (:TYPE :CLASS :SYMBOL
     (:NAME "PERSISTENT-PROXY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
      NIL)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "PROXY-OID" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "PROXY-OID" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBJECT-ID" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "OBJ" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT-PROXY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        NIL)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-PROXY-INSTANCE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION "Creates an instance of the proxy.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RETURN-PROXY-CLASSNAME" :PACKAGE-NAME "WEBLOCKS-ELEPHANT"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "CLASSNAME" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DEF-TO-PROXY-SLOT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "DEF" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "SHARED-INITIALIZE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "CLASS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "PERSISTENT-METACLASS" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T))
      (:NAME "SLOT-NAMES" :PACKAGE-NAME "METABANG.MOPTILITIES" :EXTERNALP T)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL))
     :DOCUMENTATION
     "Ensure that the proxy list is always clean when the class is redefined")
    (:TYPE :METHOD :SYMBOL
     (:NAME "DATASEQ-DATA-FORM-CLASS" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "SEQ" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "DATASEQ" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)))
     :DOCUMENTATION
     "Catch persistent classes and create/return proxy classes that can
   be used to instantiate views")
    (:TYPE :METHOD :SYMBOL
     (:NAME "CLASS-FROM-VIEW" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "VIEW" :PACKAGE-NAME "WEBLOCKS" :EXTERNALP T)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CLASS-NAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Part of the quickview / dataform method for creating anonymous instances")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PERSIST-OBJECT" :PACKAGE-NAME "WEBLOCKS-STORES" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T))
      ((:NAME "OBJECT" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT-PROXY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        NIL))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Catch when weblocks tries to persist a proxy object and create an instance
   of the persistent-object")
    (:TYPE :METHOD :SYMBOL
     (:NAME "OBJECT-CLASS-NAME" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "OBJ" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP NIL)
       (:NAME "PERSISTENT-PROXY" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
        NIL)))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "DEFPCLASS" :PACKAGE-NAME "ELEPHANT" :EXTERNALP T)
    (:NAME "MAKE-PROXY-INSTANCE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP
     T)
    (:NAME "ELEPHANT-STORE" :PACKAGE-NAME "WEBLOCKS-ELEPHANT" :EXTERNALP T)))))
