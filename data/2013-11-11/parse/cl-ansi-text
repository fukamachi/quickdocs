
(:TYPE :SYSTEM :NAME "cl-ansi-text" :AUTHOR "Paul Nathan" :MAINTAINER
 "Paul Nathan" :VERSION "1.0" :LICENCE "LLGPL" :DESCRIPTION
 "ANSI control string characters, focused on color" :LONG-DESCRIPTION
 "ANSI control string management, specializing in
  colors. Sometimes it is nice to have text output in colors"
 :DEPENDS-ON ("CL-COLORS" "ALEXANDRIA") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CL-ANSI-TEXT" :FULL-NAME "CL-ANSI-TEXT" :DOCUMENTATION
   NIL :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*ENABLED*" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
     :DOCUMENTATION "Turns on/off the colorization of functions" :INITIAL-VALUE
     "T")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+RESET-COLOR-STRING+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
     :DOCUMENTATION "This string will reset ANSI colors" :INITIAL-VALUE
     "(CONCATENATE 'STRING (LIST (CODE-CHAR 27) #\\[ #\\0 #\\m))")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+CL-COLORS+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :DOCUMENTATION "CL-COLORS colors" :INITIAL-VALUE
     "(VECTOR CL-COLORS:+BLACK+ CL-COLORS:+RED+ CL-COLORS:+GREEN+ CL-COLORS:+YELLOW+
        CL-COLORS:+BLUE+ CL-COLORS:+MAGENTA+ CL-COLORS:+CYAN+ CL-COLORS:+WHITE+)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+TERM-COLORS+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :DOCUMENTATION "Basic colors" :INITIAL-VALUE
     "(VECTOR :BLACK :RED :GREEN :YELLOW :BLUE :MAGENTA :CYAN :WHITE)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+TEXT-STYLE+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :DOCUMENTATION "One or the other. Not an ANSI effect" :INITIAL-VALUE
     "'((:FOREGROUND . 30) (:BACKGROUND . 40))")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+TERM-EFFECTS+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :DOCUMENTATION "ANSI terminal effects" :INITIAL-VALUE
     "'((:UNSET . T) (:RESET . 0) (:BRIGHT . 1) (:ITALIC . 3) (:UNDERLINE . 4)
  (:BLINK . 5) (:INVERSE . 7) (:HIDE . 8) (:NORMAL . 22) (:FRAMED . 51)
  (:ENCIRCLED . 52) (:OVERLINED . 53) (:NOT-FRAMED-OR-CIRCLED . 54)
  (:NOT-OVERLINED . 55))")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EQ-COLORS" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "A" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "B" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION "Equality for cl-colors")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CL-COLORS-TO-ANSI" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "TERM-COLORS-TO-ANSI" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-COLOR-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION "Find the list denoting the color")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-EFFECT-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "EFFECT" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION "Returns the number for the text effect OR
t if no effect should be used OR
nil if the effect is unknown.

effect should be a member of +term-effects+")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-STYLE-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RGB-CODE-P" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GENERATE-CONTROL-STRING" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION "General ANSI code")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GENERATE-COLOR-STRING" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "BUILD-CONTROL-STRING" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "EFFECT" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "UNSET" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))
      ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "FOREGROUND" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION "Color (cl-color or term-color)
Effect
Style")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-COLOR-STRING" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "EFFECT" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "UNSET" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))
      ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "FOREGROUND" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))
      (((:NAME "ENABLED" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
        (:NAME "*ENABLED*" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T))
       (:NAME "*ENABLED*" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)))
     :DOCUMENTATION
     "Takes either a cl-color or a list denoting the ANSI colors and
returns a string sufficient to change to the given color.

Will be dynamically controlled by *enabled* unless manually specified
otherwise")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
       ((:NAME "EFFECT" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
        (:NAME "UNSET" :PACKAGE-NAME "KEYWORD" :EXTERNALP T))
       ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
        (:NAME "FOREGROUND" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION
     "Writes out the string denoting a switch to `color`, executes body,
then writes out the string denoting a `reset`.

*enabled* dynamically controls expansion..")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RGB-TO-ANSI" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "RED" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "GREEN" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "BLUE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CODE-FROM-RGB" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "RED" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "GREEN" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "BLUE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :GENERIC :SYMBOL
     (:NAME "RGB-COLOR-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL))
     :DOCUMENTATION
     "Returns the 256-color code suitable for rendering on the Linux
extensions to xterm")
    (:TYPE :METHOD :SYMBOL
     (:NAME "RGB-COLOR-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "LIST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "FOREGROUND" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "RGB-COLOR-CODE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "INTEGER" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "STYLE" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP NIL)
       (:NAME "FOREGROUND" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "+RESET-COLOR-STRING+" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
    (:NAME "MAKE-COLOR-STRING" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
    (:NAME "WITH-COLOR" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)
    (:NAME "*ENABLED*" :PACKAGE-NAME "CL-ANSI-TEXT" :EXTERNALP T)))))
