
(:TYPE :SYSTEM :NAME "s-sysdeps" :AUTHOR "Sven Van Caekenberghe <svc@mac.com>"
 :MAINTAINER "Sven Van Caekenberghe <svc@mac.com>" :VERSION "1" :LICENCE
 "Lesser Lisp General Public License (LLGPL)" :DESCRIPTION
 "An abstraction layer over platform dependent functionality" :LONG-DESCRIPTION
 "An abstraction layer over platform dependent functionality" :DEPENDS-ON NIL
 :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "S-SYSDEPS" :FULL-NAME "S-SYSDEPS" :DOCUMENTATION
   "S-SYSDEPS is an abstraction layer over platform dependent functionality"
   :SYMBOL-LIST
   ((:TYPE :FUNCTION :SYMBOL
     (:NAME "MULTIPROCESSING-CAPABLE-P" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION
     "Returns t when this implementation is multiprocessing capable")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CURRENT-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Return the object representing the current process")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "KILL-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION "Kill the process represented by the object process")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RUN-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGUMENTS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Create and run a new process with name, executing function on arguments")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "ALL-PROCESSES" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Return a list of all processes currently running")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "OPEN-SOCKET-STREAM" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "HOST" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "PORT" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CONNECT-TIMEOUT" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "READ-TIMEOUT" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "WRITE-TIMEOUT" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Create and open a bidirectional client TCP/IP socket stream to host:port")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-SOCKET-STREAM-PROPERTY" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "SOCKET-STREAM" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "PROPERTY" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Get the value of a socket stream property, one of :remote-host :remote-port :local-host :local-port")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SERVER-PROCESSES*" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
     :DOCUMENTATION "The list of processes created by S-SYSDEPS" :INITIAL-VALUE
     "'NIL")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-STANDARD-SERVER" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PORT" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "NAME" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
      (:NAME "CONNECTION-HANDLER" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Start a server process with name, listening on port, delegating to connection-handler with stream as argument")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STOP-SERVER" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "NAME" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION "Stop a named server")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-PROCESS-LOCK" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "NAME" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION "Create a named process lock object")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-PROCESS-LOCK" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "LOCK" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Execute body wih the process lock grabbed, wait otherwise"))
   :EXTERNAL-SYMBOLS
   ((:NAME "OPEN-SOCKET-STREAM" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "WITH-PROCESS-LOCK" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "START-STANDARD-SERVER" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "RUN-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "MULTIPROCESSING-CAPABLE-P" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "CURRENT-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "KILL-PROCESS" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "ALL-PROCESSES" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "GET-SOCKET-STREAM-PROPERTY" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)
    (:NAME "MAKE-PROCESS-LOCK" :PACKAGE-NAME "S-SYSDEPS" :EXTERNALP T)))))
