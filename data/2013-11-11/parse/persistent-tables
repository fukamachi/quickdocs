
(:TYPE :SYSTEM :NAME "persistent-tables" :AUTHOR "Vincent Toups" :MAINTAINER
 "Vincent Toups" :VERSION "0.0.1" :LICENCE NIL :DESCRIPTION
 "Persistent tables." :LONG-DESCRIPTION NIL :DEPENDS-ON
 ("RANDOM-ACCESS-LISTS" "LISP-UNIT") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "PERSISTENT-TABLES" :FULL-NAME "PERSISTENT-TABLES"
   :DOCUMENTATION NIL :SYMBOL-LIST
   ((:TYPE :FUNCTION :SYMBOL
     (:NAME "EMPTY?" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "X" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :MACRO :SYMBOL
     (:NAME "NAMED-LET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "BINDINGS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :STRUCT :SYMBOL
     (:NAME "PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "BUCKETS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "TEST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "BUCKETS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM42" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "TEST" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM43" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FRESH-PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "N" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL) 107)
      ((:NAME "TEST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
       ((:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "EQUAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))))
     :DOCUMENTATION "Create a fresh persistent hash table with N (107) bins and
TEST for equality.")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "THE-EMPTY-PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :DOCUMENTATION "An empty EQUAL testing persistent hash table."
     :INITIAL-VALUE "(PERSISTENT-TABLES:FRESH-PTBL)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "THE-EMPTY-PTBL-EQ" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP
      NIL)
     :DOCUMENTATION "An empty EQ testing persistent hash table." :INITIAL-VALUE
     "(PERSISTENT-TABLES:FRESH-PTBL 107 #'EQ)")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-SET-BUCKETS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "P" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "B" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Set the BUCKETS part of a persistent table P to B.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-DIP-BUCKETS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "P" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "F" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Set the BUCKETS part of a persistent table P to (FUNCALL F B),
where B is the old buckets.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-N-BUCKETS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "P" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Return the number of buckets in the table P.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-ADD-TO-BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "KEY" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "VAL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "TEST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ACC" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Add an association to BUCKET with KEY, VAL and KEY equality
tested under TEST.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-GET-FROM-BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "KEY" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "TEST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Find an association to BUCKET with KEY.  TEST defines key equality.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "BUCKET-KEYS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Return all the keys in a BUCKET.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "BUCKET-VALUES" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "BUCKET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Return all the values in a BUCKET.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-SET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "KEY" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "VAL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Return a new persistent hash table which is like TBL except
that KEY is associated with VAL.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "{}" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "MAYBE-PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Construct or augment a PTBL with the KEY/VAL pairs in ARGS.
If MAYBE-PTBL is not a PTBL, treat it as the first key and use an
empty persistent table.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-GET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "KEY" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "OR-VALUE" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Retreive the association for KEY from the persistent hashtable
TBL.  Return OR-VALUE if no association exists, which defaults to
NIL.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-KEYS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION "Return a list of all keys in the persistent hash table TBL.
Order is unspecified.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL-VALUES" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return a list of all values in the persistent hash table TBL.
Order is unspecified.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL->ALIST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return an association list with the same assocations as TBL.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PTBL->PPSTRING" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "TBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP NIL))
     :DOCUMENTATION
     "Produce a nice string representation of the persistent hash table TBL."))
   :EXTERNAL-SYMBOLS
   ((:NAME "PTBL-GET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "PTBL-KEYS" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "PTBL-SET" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "PTBL-VALUES" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "{}" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "FRESH-PTBL" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "PTBL->PPSTRING" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)
    (:NAME "PTBL->ALIST" :PACKAGE-NAME "PERSISTENT-TABLES" :EXTERNALP T)))))
