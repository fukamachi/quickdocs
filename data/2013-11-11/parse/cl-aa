
(:TYPE :SYSTEM :NAME "cl-aa" :AUTHOR
 "Frederic Jolliton <frederic@jolliton.com>" :MAINTAINER NIL :VERSION NIL
 :LICENCE "MIT" :DESCRIPTION "cl-aa: polygon rasterizer" :LONG-DESCRIPTION NIL
 :DEPENDS-ON NIL :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "NET.TUXEE.AA" :FULL-NAME "NET.TUXEE.AA" :DOCUMENTATION
   NIL :SYMBOL-LIST
   ((:TYPE :CONSTANT :SYMBOL
     (:NAME "+CELL-WIDTH+" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :DOCUMENTATION "A cell represent a pixel square, and the width is the
fractional part of the fixed-point coordinate. A large value
increase precision. 256 should be enough though. Note that
smaller value should NOT increase performance."
     :INITIAL-VALUE "256")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAP-LINE-SPANS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "A1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "B1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "A2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "B2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Call FUNCTION for each segment of a line with integer
coordinates (A1,B1)-(A2,B2) cut by a grid of spacing
+CELL-WIDTH+.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAP-GRID-SPANS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Call FUNCTION for each segments of the line from (X1,Y1)
to (X2,Y2) cut by a grid with spacing +CELL-WIDTH+.")
    (:TYPE :STRUCT :SYMBOL
     (:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "A cell used to represent the partial area covered by a line
passing by a corresponding pixel. The cell alone doesn't hold all
the information to calculate the area."
     :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "X" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "Y" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL) :ACCESSORS NIL
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "COVER" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "AREA" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "X" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM178" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "Y" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM179" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "COVER" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM180" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0)
      (((:NAME "AREA" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM181" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CELL-EMPTY-P" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Test if the cell is empty. A cell is empty when COVER and AREA
are both zero.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CELL-RESET" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Reset the cell such that CELL-EMPTY-P is true.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COMPARE-CELLS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "A" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "B" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Compare coordinates between 2 cells. Used to sort cells by Y,
then by X.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UPDATE-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FX1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FY1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FX2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FY2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Update COVER and AREA given a segment inside the corresponding
cell. FX1, FY1, FX2 and FY2 must be subpixel coordinates between
0 and +CELL-WIDTH+ included.")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "+ALPHA-RANGE+" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :DOCUMENTATION
     "For non overlapping polygons, the alpha value will be in the
range (-limit,limit) where limit is +alpha-range+. The value is
negative or positive accordingly to the polygon
orientation (clockwise or counter-clockwise.)"
     :INITIAL-VALUE "256")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "+ALPHA-DIVISOR+" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :DOCUMENTATION
     "Constant used to translate value computed by AREA and COVER to
an alpha value."
     :INITIAL-VALUE
     "(FLOOR (* 2 NET.TUXEE.AA::+CELL-WIDTH+ NET.TUXEE.AA::+CELL-WIDTH+)
       NET.TUXEE.AA::+ALPHA-RANGE+)")
    (:TYPE :STRUCT :SYMBOL
     (:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "AA state. Hold all the cells generated when drawing lines." :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CURRENT-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CELLS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "SCANLINES" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "END-OF-LINES" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "DROPPED-CELLS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "RECYCLING-CELLS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "CURRENT-CELL" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM279" :PACKAGE-NAME NIL :EXTERNALP NIL))
       ((:NAME "MAKE-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)))
      (((:NAME "CELLS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM280" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "SCANLINES" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM281" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "END-OF-LINES" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM282" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "DROPPED-CELLS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM283" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "RECYCLING-CELLS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM284" :PACKAGE-NAME NIL :EXTERNALP NIL))
       ((:NAME "CONS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STATE-RESET" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Reset the state, losing all accumulated cells. It can be
faster or less memory consuming to reset a state and reuse it,
rather than creating a new state.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STATE-PUSH-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Store a copy of the current cell into the cells list. If the
state was reset, possibly reuse previous cells.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STATE-FINALIZE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Finalize the state.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SET-CURRENT-CELL" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Ensure current cell is one at coordinate X and Y. If not,
the current cell is stored, then reset accordingly to new
coordinate.

Returns the current cell.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STATE-SORT-CELLS" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Sort the cells by Y, then by X.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LINE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Draw a line from (X1,Y1) to (X2,Y2). All coordinates are
integers with subpixel accuracy (a pixel width is given by
+CELL-WIDTH+.) The line must be part of a closed polygon.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LINE-F" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Draw a line, whose coordinates are translated to fixed-point
as expected by function LINE. This is a convenient function to
not depend on +CELL-WIDTH+.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COMPUTE-ALPHA" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "COVER" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "AREA" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Compute the alpha value given the accumulated cover and the
actual area of a cell.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FREEZE-STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION
     "Freeze the state and return a list of scanlines. A scanline is
an object which can be examined with SCANLINE-Y and processed
with SCANLINE-SWEEP.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SCANLINE-Y" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "SCANLINE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Get the Y position of SCANLINE.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SCANLINE-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "SCANLINE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FUNCTION-SPAN" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "START" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "END" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Call FUNCTION for each pixel on the polygon covered by
SCANLINE. The pixels are scanned in increasing X. The sweep can
be limited to a range by START (included) or/and END (excluded).")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CELLS-SWEEP/RECTANGLE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FUNCTION-SPAN" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Call FUNCTION for each pixel on the polygon described by
previous call to LINE or LINE-F. The pixels are scanned in
increasing Y, then on increasing X. This is limited to the
rectangle region specified with (X1,Y1)-(X2,Y2) (where X2 must be
greater than X1 and Y2 must be greater than Y1, to describe a
non-empty region.)

For optimization purpose, the optional FUNCTION-SPAN, if
provided, is called for a full span of identical alpha pixel. If
not provided, a call is made to FUNCTION for each pixel in the
span.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CELLS-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL)
      (:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "FUNCTION-SPAN" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP NIL))
     :DOCUMENTATION "Call FUNCTION for each pixel on the polygon described by
previous call to LINE or LINE-F. The pixels are scanned in
increasing Y, then on increasing X.

For optimization purpose, the optional FUNCTION-SPAN, if
provided, is called for a full span of identical alpha pixel. If
not provided, a call is made to FUNCTION for each pixel in the
span."))
   :EXTERNAL-SYMBOLS
   ((:NAME "LINE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "CELLS-SWEEP/RECTANGLE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "SCANLINE-Y" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "LINE-F" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "FREEZE-STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "SCANLINE-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "STATE-RESET" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "CELLS-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)
    (:NAME "MAKE-STATE" :PACKAGE-NAME "NET.TUXEE.AA" :EXTERNALP T)))
  (:TYPE :PACKAGE :NAME "NET.TUXEE.AA-BIN" :FULL-NAME "NET.TUXEE.AA-BIN"
   :DOCUMENTATION NIL :SYMBOL-LIST
   ((:TYPE :CONSTANT :SYMBOL
     (:NAME "+CELL-WIDTH+" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :DOCUMENTATION "A cell represent a pixel square, and the width is the
fractional part of the fixed-point coordinate. A large value
increase precision. 256 should be enough though. Note that
smaller value should NOT increase performance."
     :INITIAL-VALUE "256")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "+ALPHA-RANGE+" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :DOCUMENTATION
     "For non overlapping polygons, the alpha value will be in the
range (-limit,limit) where limit is +alpha-range+. The value is
negative or positive accordingly to the polygon
orientation (clockwise or counter-clockwise.)"
     :INITIAL-VALUE "256")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAP-LINE-INTERSECTIONS" :PACKAGE-NAME "NET.TUXEE.AA-BIN"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :STRUCT :SYMBOL
     (:NAME "CELL" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "X" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "Y" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL) :ACCESSORS
       NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "VALUE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-CELL" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "X" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM26" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "Y" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM27" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (((:NAME "VALUE" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM28" :PACKAGE-NAME NIL :EXTERNALP NIL))
       0))
     :DOCUMENTATION NIL)
    (:TYPE :STRUCT :SYMBOL
     (:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :SUPER-CLASS-LIST
     ((:NAME "STRUCTURE-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "AA state. Hold all the cells generated when drawing lines." :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "CELLS" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "CELLS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "DUM66" :PACKAGE-NAME NIL :EXTERNALP NIL))
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "STATE-RESET" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION "Reset the state, losing all accumulated cells. It can be
faster or less memory consuming to reset a state and reuse it,
rather than creating a new state.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SET-CURRENT-CELL" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LINE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LINE-F" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y1" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "X2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "Y2" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION
     "Draw a line, whose coordinates are translated to fixed-point
as expected by function LINE. This is a convenient function to
not depend on +CELL-WIDTH+.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COMPARE-CELLS" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "A" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "B" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION
     "Compare coordinates between 2 cells. Used to sort cells by Y,
then by X.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CELLS-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL)
      (:NAME "FUNCTION" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "SPAN-FUNCTION" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP NIL))
     :DOCUMENTATION
     "Call FUNCTION for each pixel on the polygon path described by
previous call to LINE or LINE-F. The pixels are scanned in
increasing Y, then on increasing X. For optimization purpose, the
optional FUNCTION-SPAN, if provided, is called for a full span of
identical alpha pixel. If not provided, a call is made to
FUNCTION for each pixel in the span."))
   :EXTERNAL-SYMBOLS
   ((:NAME "CELLS-SWEEP" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
    (:NAME "LINE-F" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
    (:NAME "MAKE-STATE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)
    (:NAME "LINE" :PACKAGE-NAME "NET.TUXEE.AA-BIN" :EXTERNALP T)))))
