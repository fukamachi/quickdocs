
(:TYPE :SYSTEM :NAME "package-renaming" :AUTHOR NIL :MAINTAINER NIL :VERSION
 NIL :LICENCE "MIT" :DESCRIPTION "locally renaming packages" :LONG-DESCRIPTION
 NIL :DEPENDS-ON ("ALEXANDRIA") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "PACKAGE-RENAMING" :FULL-NAME "PACKAGE-RENAMING"
   :DOCUMENTATION NIL :SYMBOL-LIST
   ((:TYPE :FUNCTION :SYMBOL
     (:NAME "CHECK-SAME-PACKAGE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "NAMES" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL))
     :DOCUMENTATION "Check that the NAMES all designate the same package")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CHECK-PACKAGE-CANDIDATE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "PACKAGE-DESIGNATOR" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL)
      (:NAME "NAMES" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL))
     :DOCUMENTATION "Check that each of the NAMES either designates the package
specified by PACKAGE-DESIGNATOR or no package at all")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "PACKAGE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "PACKAGE-DESIGNATOR" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL))
     :DOCUMENTATION "List of the designated package's name and nicknames")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-PACKAGE-FROM-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "NAMES" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-DOES-NOT-EXIST" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL))
     :DOCUMENTATION "Find the first package designated by one of the NAMES.
IF-DOES-NOT-EXIST may be NIL or ERROR.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EFFECT-PACKAGE-RENAMING" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "OLD" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL)
      (:NAME "NEW" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-DOES-NOT-EXIST" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL))
     :DOCUMENTATION
     "Effect the renaming of a package with OLD names (designator or list of designators)
to NEW names (a designator or list of designators).
Return the list of actual names that the package had.
IF-DOES-NOT-EXIST may be NIL or ERROR.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EFFECT-PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-DOES-NOT-EXIST" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL))
     :DOCUMENTATION "Call effect-package-renaming on each renaming.
Return a list of reverse renamings to undo the thing.
IF-DOES-NOT-EXIST may be NIL or ERROR;
in the former case, the reverse renaming will rename
the possibly newly created package to the \"old\" name.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CALL-WITH-EFFECTIVE-PACKAGE-RENAMINGS" :PACKAGE-NAME
      "PACKAGE-RENAMING" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL)
      (:NAME "THUNK" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-DOES-NOT-EXIST" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL))
     :DOCUMENTATION "Call the THUNK in an dynamic environment where
the PACKAGE-RENAMINGS have been effected by effect-package-renamings,
and are undone in the end by the same
using the reverse renamings returned by the first call.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-EFFECTIVE-PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP
       NIL)
      (:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP NIL))
     :DOCUMENTATION "Evaluate the BODY in an dynamic environment where
the PACKAGE-RENAMINGS have been effected by effect-package-renamings,
and are undone in the end by the same
using the reverse renamings returned by the first call.
PACKAGE-RENAMINGS is a compile-time constant;
for runtime-computed renamings, use the call-with-effective-package-renamings function."))
   :EXTERNAL-SYMBOLS
   ((:NAME "WITH-EFFECTIVE-PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)
    (:NAME "CALL-WITH-EFFECTIVE-PACKAGE-RENAMINGS" :PACKAGE-NAME
     "PACKAGE-RENAMING" :EXTERNALP T)
    (:NAME "CHECK-SAME-PACKAGE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)
    (:NAME "EFFECT-PACKAGE-RENAMING" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)
    (:NAME "CHECK-PACKAGE-CANDIDATE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)
    (:NAME "EFFECT-PACKAGE-RENAMINGS" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)
    (:NAME "PACKAGE-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING" :EXTERNALP T)
    (:NAME "FIND-PACKAGE-FROM-NAMES" :PACKAGE-NAME "PACKAGE-RENAMING"
     :EXTERNALP T)))))
