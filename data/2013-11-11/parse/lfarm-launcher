
(:TYPE :SYSTEM :NAME "lfarm-launcher" :AUTHOR
 "James M. Lawrence <llmjjmll@gmail.com>" :MAINTAINER NIL :VERSION "0.1.0"
 :LICENCE "BSD" :DESCRIPTION
 "Testing facility for lfarm, a library for distributing work across machines."
 :LONG-DESCRIPTION "See http://github.com/lmj/lfarm" :DEPENDS-ON
 ("EXTERNAL-PROGRAM" "LFARM-SERVER" "LFARM-ADMIN") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "LFARM-LAUNCHER" :FULL-NAME "LFARM-LAUNCHER"
   :DOCUMENTATION "Launch servers locally or remotely." :SYMBOL-LIST
   ((:TYPE :FUNCTION :SYMBOL
     (:NAME "BOOT-FORM" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*REMOTE-LISP*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SSH-EXECUTABLE*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "\"ssh\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SSH-OPTIONS*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SSH-USER*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*BOOT-FORM*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "(LFARM-LAUNCHER::BOOT-FORM)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SSH-BASE-OPT*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE
     "'(\"-o\" \"ServerAliveInterval=10\" \"-o\" \"ServerAliveCountMax=1\")")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SCRUB-FORM" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FORM" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION
     "Replace objects which cause \" (double-quote) to be printed. Does
not descend into vectors.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-FORM" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "PORT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "BOOT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "Code passed to --eval.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-STRING" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "PORT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "BOOT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "String passed to --eval.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SURROUND-QUOTES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SPLAT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL) :LAMBDA-LIST
     ((:NAME "ARGS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "(splat '(1 2 (3 4) 5 nil (6))) => (1 2 3 4 5 6)")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SSH-HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "USER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-REMOTE-SERVER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "PORT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "LISP" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "BOOT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-OPT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-USER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SPAWN-REMOTE-SERVER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "HOST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "PORT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "LISP" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "BOOT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-OPT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-USER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CHECK-STRING-LIST" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "LIST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CHECK-ARGS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "LISP" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-OPT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "SSH-USER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-REMOTE-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "ADDRESSES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (((:NAME "REMOTE-LISP" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "LISP" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
       (:NAME "*REMOTE-LISP*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T))
      (((:NAME "BOOT-FORM" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "BOOT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
       (:NAME "*BOOT-FORM*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T))
      (((:NAME "SSH-EXECUTABLE" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "SSH" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
       (:NAME "*SSH-EXECUTABLE*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T))
      (((:NAME "SSH-OPTIONS" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "SSH-OPT" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
       (:NAME "*SSH-OPTIONS*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T))
      (((:NAME "SSH-USER" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)
        (:NAME "SSH-USER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
       (:NAME "*SSH-USER*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)))
     :DOCUMENTATION
     "Launch servers on remote machines via ssh. Assumes non-interactive
login has been set up for each remote machine.

`addresses' -- a list of (host port) string-integer pairs.

`remote-lisp' -- The command to execute lisp on the remote machine (list
of strings). It must end with the implementation's eval switch. E.g.,
'(\"sbcl\" \"--eval\").

`ssh-executable' -- Local ssh executable (string). Default is \"ssh\".

`ssh-options' -- Command-line options passed to ssh (list of strings).

`ssh-user' -- Username on the remote machine (string).

`boot-form' -- Code to load lfarm-server.asd in the remote lisp image
(and perhaps do other initialization). Default loads it with quicklisp.
Ensure that all symbols are in the CL or CL-USER package.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "END-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "ADDRESSES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL)
      (:NAME "FN-NAME" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "END-REMOTE-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "ADDRESSES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "Shut down remote servers.

`addresses' is a list of (host port) string-integer pairs.")
    (:TYPE :MACRO :SYMBOL
     (:NAME "WITH-THREAD-TRACKER" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "&BODY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "BODY" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "START-LOCAL-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "ADDRESSES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "Locally launch servers.

`addresses' is a list of (host port) string-integer pairs.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "END-LOCAL-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "ADDRESSES" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP NIL))
     :DOCUMENTATION "Shut down local servers.

`addresses' is a list of (host port) string-integer pairs."))
   :EXTERNAL-SYMBOLS
   ((:NAME "START-LOCAL-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "*BOOT-FORM*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "END-LOCAL-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "START-REMOTE-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "END-REMOTE-SERVERS" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "*SSH-EXECUTABLE*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "*REMOTE-LISP*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "*SSH-OPTIONS*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)
    (:NAME "*SSH-USER*" :PACKAGE-NAME "LFARM-LAUNCHER" :EXTERNALP T)))))
