
(:TYPE :SYSTEM :NAME "metafs" :AUTHOR
 "Walter C. Pelissero <walter@pelissero.de>" :MAINTAINER
 "Walter C. Pelissero <walter@pelissero.de>" :VERSION NIL :LICENCE "LGPL"
 :DESCRIPTION "Meta-Data File System" :LONG-DESCRIPTION
 "This is a library that allows the manipulation of files
associating metadata information to them."
 :DEPENDS-ON ("SCLF") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "META-FILE-SYSTEM" :FULL-NAME "META-FILE-SYSTEM"
   :DOCUMENTATION NIL :SYMBOL-LIST
   ((:TYPE :GENERIC :SYMBOL
     (:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Return a pathname object from THING.")
    (:TYPE :CLASS :SYMBOL
     (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION NIL :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
       :ACCESSORS NIL :READERS
       ((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
       :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
       :ACCESSORS NIL :READERS NIL :WRITERS NIL :DOCUMENTATION
       "Alist of keywords and values")))
    (:TYPE :METHOD :SYMBOL
     (:NAME "INITIALIZE-INSTANCE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PRINT-OBJECT" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Print FILE showing the pathname instead of the usual memory
address.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "METADATA-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return the pathname of the directory containing the metadata for FILE.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "METADATA-PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return the pathname of the metadata file associated with FILE.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "METADATA-PATHNAMES" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return the list of pathnames of the metadata files associated with
FILE.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "REMOVE-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Permanently remove the metadata from FILE object.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "DELETE-METADATA-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       T))
     :DOCUMENTATION
     "Delete just the file containing the metadata.  Don't do anything
if metadata file doesn't exist.  Return true if the metadata file was
deleted otherwise false.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "RENAME-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Like CL:RENAME-FILE but polymorphically handle
METAFS:FILE-SYSTEM-OBJECTs as well.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "COPY-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       T)
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Copy FILE to NEW-PATH preserving its metadata in the copy.  Return
a new FILE-SYSTEM-OBJECT object.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Like CL:DELETE-FILE but takes care of removing the metadata as well.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "MOVE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Like RENAME-FILE but handle cross-filesystem relocations.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "FS-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Return a FILE-SYSTEM-OBJECT object of THING.")
    (:TYPE :GENERIC :SYMBOL
     (:NAME "LIST-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "DIRECTORY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Just like SCLF:LIST-DIRECTORY but this one returns a list of FILE-SYSTEM-OBJECT
objects.  Care is taken to skip metadata directories and their
contents.")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*METADATA-DIRECTORY-NAME*" :PACKAGE-NAME "META-FILE-SYSTEM"
      :EXTERNALP T)
     :DOCUMENTATION "Name of the directory that contains the metadata files."
     :INITIAL-VALUE "\".metadata\"")
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "METADATA-DIRECTORY-P" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return true if PATHNAME is a metadata directory.  This function
may be used by programs that search through a directory tree, to be
able to skip metadata directories.  The DIRECTORY function in this
package does already this.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA-PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA-PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA-PATHNAMES" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*AUTO-SAVE*" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :DOCUMENTATION "Whether setting a property or changing any metadata will
automatically make the change permanent on the filesystem."
     :INITIAL-VALUE "T")
    (:TYPE :METHOD :SYMBOL
     (:NAME "LOAD-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION "Load the metadata of FILE-SYSTEM-OBJECT from its file.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "SAVE-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION "Save the metadata of FILE-SYSTEM-OBJECT into its file.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     ((:NAME "SETF" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :LAMBDA-LIST
     ((:NAME "VALUE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION "Setter method of the metadata slot.  Automatically make the
new value permanent on disk.  Return VALUE.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "REMOVE-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "PROPERTY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "KEYWORD" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Get a metadata property.")
    (:TYPE :METHOD :SYMBOL
     ((:NAME "SETF" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "PROPERTY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :LAMBDA-LIST
     ((:NAME "VALUE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "KEYWORD" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION "Set or add a metadata property.  Return VALUE.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "REMOVE-PROPERTY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "KEYWORD" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :DOCUMENTATION "Read the metadata information belonging to PATHNAME file.
Return NIL if not available.")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*FILE-TYPES-TABLE*" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :DOCUMENTATION
     "Lookup table for the automatic instantiation of file-system-object
class objects.  This variable is normally updated by the
DEFINE-FILE-SYSTEM-OBJECT macro when defining new types derived from
FILE-SYSTEM-OBJECT.  This is an alist of strings or function and types.
See DEFINE-FILE-SYSTEM-OBJECT for further details."
     :INITIAL-VALUE "'NIL")
    (:TYPE :MACRO :SYMBOL
     (:NAME "DEFINE-FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM"
      :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "SUPER-CLASSES" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "FILENAME-TYPES" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CLASS-DECLARATIONS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       NIL))
     :DOCUMENTATION
     "This is the macro that should be used to declared new classes
derived from FILE-SYSTEM-OBJECT.  The syntax is similar to defclass with few
differences: if no superclass is mentioned it defaults to FILE-SYSTEM-OBJECT;
FILENAME-TYPES is the list of file types this class represents.  This
list is used by MAKE-FILE-SYSTEM-OBJECT-FROM-FILE to automatically
instantiate the right object from a pathname.  FILENAME-TYPES is a
list of strings, pathnames, or functions: strings are matched against
pathname-type of the files, pathnames are matched against the whole
pathname of files, while the function is called passing the pathname
of files.  These functions should return true if they recognise the
file as of their type.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Fall back method: use standard CL function.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "REMOVE-EMPTY-METADATA-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION "Attempt to remove the metadata directory if empty.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-METADATA-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-METADATA-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "RENAME-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "RENAME-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "RENAME-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "COPY-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "ERROR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "COPY-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "ERROR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION
     "This method deletes only the metadata.  It's responsability of the
specialisers to delete the FILE itself.")
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "MOVE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "ERROR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "MOVE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "ERROR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MATCH-PROPERTY-P" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "KEYWORD" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "MATCH-VALUE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "SEARCH-PATHS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "METADATA-MATCHERS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       NIL))
     :DOCUMENTATION NIL)
    (:TYPE :CLASS :SYMBOL
     (:NAME "SYSTEM-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       T))
     :DOCUMENTATION "Class that models standard files." :SLOT-LIST NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "SYSTEM-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :CLASS :SYMBOL
     (:NAME "SYSTEM-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :SUPER-CLASS-LIST
     ((:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
       T))
     :DOCUMENTATION "Class that models file system directories." :SLOT-LIST
     NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "DIRECTORY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "SYSTEM-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "MOVE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "DIRECTORY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
       (:NAME "SYSTEM-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T))
      (:NAME "NEW-PATH" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "IF-EXISTS" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "ERROR" :PACKAGE-NAME "KEYWORD" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*DEFAULT-FILE-CLASS*" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
      T)
     :DOCUMENTATION
     "The class that is instantiated by default for an unknown file type.
See FILE-CLASS-BY-PATHNAME and MAKE-FILE-SYSTEM-OBJECT-FROM-FILE."
     :INITIAL-VALUE "'META-FILE-SYSTEM:SYSTEM-FILE")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FILE-CLASS-BY-PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :DOCUMENTATION
     "Given a pathname return the class that best represents the kind of
file.  By default return *DEFAULT-FILE-CLASS*.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-FILE-SYSTEM-OBJECT-FROM-FILE" :PACKAGE-NAME
      "META-FILE-SYSTEM" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "FS-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "FS-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "FS-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL)
       (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
        T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "LIST-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     (((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
       (:NAME "PATHNAME" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :METHOD :SYMBOL
     (:NAME "LIST-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "THING" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CHECK-METADATA-CONSISTENCY" :PACKAGE-NAME "META-FILE-SYSTEM"
      :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T))
     :DOCUMENTATION "Remove stray metadata files from directory PATHNAME."))
   :EXTERNAL-SYMBOLS
   ((:NAME "REMOVE-PROPERTY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "METADATA-DIRECTORY-P" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
     T)
    (:NAME "*AUTO-SAVE*" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "PATHNAME" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "*METADATA-DIRECTORY-NAME*" :PACKAGE-NAME "META-FILE-SYSTEM"
     :EXTERNALP T)
    (:NAME "RENAME-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "LIST-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "METADATA-PATHNAMES" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "DEFINE-FILE-SYSTEM-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM"
     :EXTERNALP T)
    (:NAME "*DEFAULT-FILE-CLASS*" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP
     T)
    (:NAME "PROPERTY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "MOVE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "SYSTEM-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "FS-OBJECT" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "DELETE-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "REMOVE-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "COPY-FILE" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "SYSTEM-DIRECTORY" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)
    (:NAME "SAVE-METADATA" :PACKAGE-NAME "META-FILE-SYSTEM" :EXTERNALP T)))))
