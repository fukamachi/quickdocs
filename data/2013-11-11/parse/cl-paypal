
(:TYPE :SYSTEM :NAME "cl-paypal" :AUTHOR
 "Hans Huebner <hans@huebner.org>, Plato Wu <netawater@gmail.com>" :MAINTAINER
 "Plato Wu <netawater@gmail.com>" :VERSION "0.1" :LICENCE "BSD" :DESCRIPTION
 "A paypal express checkout API in Common Lisp." :LONG-DESCRIPTION NIL
 :DEPENDS-ON ("HUNCHENTOOT" "DRAKMA" "CL-PPCRE") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CL-PAYPAL" :FULL-NAME "CL-PAYPAL" :DOCUMENTATION NIL
   :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-API-URL*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "NVP URL of the Paypal server" :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-USER*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "Username to use to authenticate at the Paypal server"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-PASSWORD*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "Password to use to authenticate at the Paypal server"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-SIGNATURE*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "Signature to use to authenticate at the Paypal server"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-RETURN-URL*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "return url for finishing paypal express checkout"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-CANCEL-URL*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "cancel url if cancel paypal express checkout"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-USERACTION*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION
     "confirm order on your site or on Paypal, continue or commit, respectively"
     :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-CURRENCYCODE*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION "currency for paypal express checkout" :INITIAL-VALUE
     "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-MAX-ACTIVE-TRANSACTIONS*" :PACKAGE-NAME "CL-PAYPAL"
      :EXTERNALP T)
     :DOCUMENTATION "invoke garbage collection when it is reached."
     :INITIAL-VALUE "20")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-MAX-TOKEN-LIVE-PERIOD*" :PACKAGE-NAME "CL-PAYPAL"
      :EXTERNALP T)
     :DOCUMENTATION "the max value of live period for token in minute"
     :INITIAL-VALUE "10")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PAYPAL-MAX-TRANSACTION-PER-IP*" :PACKAGE-NAME "CL-PAYPAL"
      :EXTERNALP T)
     :DOCUMENTATION "max number of simultaneous transaction per ip"
     :INITIAL-VALUE "5")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INIT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "PAYPAL-API-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "PAYPAL-USER" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "PAYPAL-PASSWORD" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "PAYPAL-SIGNATURE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "PAYPAL-RETURN-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "PAYPAL-CANCEL-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "USERACTION" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       "continue")
      ((:NAME "CURRENCYCODE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL) "USD"))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DECODE-RESPONSE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "RESPONSE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
     :DOCUMENTATION
     "Decode a paypal response string, which is URL encoded and follow
  list encoding rules.  Returns the parameters as a plist.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "REQUEST" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "METHOD" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&REST" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "ARGS" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "&ALLOW-OTHER-KEYS" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION
     "Perform a request to the Paypal NVP API.  METHOD is the method to
  use, additional keyword arguments are passed as parameters to the
  API.  Returns ")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*ACTIVE-TRANSACTIONS*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(MAKE-HASH-TABLE :TEST #'EQUALP)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*TRANSACTION-IPS*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "REGISTER-TRANSACTION" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "TOKEN" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "AMOUNT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "CURRENCYCODE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "IP" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "UNREGISTER-TRANSACTION" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "TOKEN" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "FIND-TRANSACTION" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "TOKEN" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "ERRORP" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MAKE-EXPRESS-CHECKOUT-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "AMOUNT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "IP" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "RETURN-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "*PAYPAL-RETURN-URL*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
      ((:NAME "CANCEL-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "*PAYPAL-CANCEL-URL*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
      ((:NAME "USERACTION" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "*PAYPAL-USERACTION*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
      ((:NAME "CURRENCYCODE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "*PAYPAL-CURRENCYCODE*" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP
        NIL))
      ((:NAME "SANDBOX" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "HOSTNAME" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
       ((:NAME "IF" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "SANDBOX" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
        "www.sandbox.paypal.com" "www.paypal.com")))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-AND-DO-EXPRESS-CHECKOUT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP
      T)
     :LAMBDA-LIST
     ((:NAME "SUCCESS" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL)
      (:NAME "FAILURE" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP NIL))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "REQUEST" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "*PAYPAL-MAX-ACTIVE-TRANSACTIONS*" :PACKAGE-NAME "CL-PAYPAL"
     :EXTERNALP T)
    (:NAME "GET-AND-DO-EXPRESS-CHECKOUT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP
     T)
    (:NAME "RESPONSE-ERROR" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "REQUEST-ERROR" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "MAKE-EXPRESS-CHECKOUT-URL" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "*PAYPAL-MAX-TRANSACTION-PER-IP*" :PACKAGE-NAME "CL-PAYPAL"
     :EXTERNALP T)
    (:NAME "TRANSACTION-ALREADY-CONFIRMED-ERROR" :PACKAGE-NAME "CL-PAYPAL"
     :EXTERNALP T)
    (:NAME "INIT" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "PAYPAL-ERROR" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)
    (:NAME "*PAYPAL-MAX-TOKEN-LIVE-PERIOD*" :PACKAGE-NAME "CL-PAYPAL"
     :EXTERNALP T)
    (:NAME "HTTP-REQUEST-ERROR" :PACKAGE-NAME "CL-PAYPAL" :EXTERNALP T)))))
