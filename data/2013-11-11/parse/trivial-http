
(:TYPE :SYSTEM :NAME "trivial-http" :AUTHOR "Brian Mastenbrook and Gary King"
 :MAINTAINER NIL :VERSION "1.3.0" :LICENCE "MIT" :DESCRIPTION
 "Simple support for HTTP GET, POST and more." :LONG-DESCRIPTION NIL
 :DEPENDS-ON ("USOCKET") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "TRIVIAL-HTTP" :FULL-NAME "TRIVIAL-HTTP" :DOCUMENTATION
   "trivial-http is a simple networking library for doing HTTP POST 
and GET over a socket interface. It establishes a package trivial-http, 
also called SHTTP, from which the following functions are exported: 
http-get, http-post, escape-url-query and http-head."
   :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*USER-AGENT*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "\"trivial-http for Common Lisp\"")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*HTTP-DEBUG*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PROXY-USER*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*PROXY-PASSWORD*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :CONSTANT :SYMBOL
     (:NAME "+CRLF+" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "(IF (BOUNDP 'TRIVIAL-HTTP::+CRLF+)
    (SYMBOL-VALUE 'TRIVIAL-HTTP::+CRLF+)
    (CONCATENATE 'STRING (STRING (CODE-CHAR 13)) (STRING (CODE-CHAR 10))))")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "WRITE-STANDARD-HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "COMMAND" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "HOST" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HTTP-HEAD" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)) :DOCUMENTATION
     "Returns a list of two elements: a response code as an integer and an association list of headers returned from the server.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HTTP-GET" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)) :DOCUMENTATION
     "returns a list of three elements: a response code as integer, an association list of headers returned from the server, and a stream from which the response can be read.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "WRITE-ADDITIONAL-HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "WRITE-CRLF" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HTTP-POST" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "CONTENT-TYPE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "CONTENT" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      ((:NAME "DEBUG?" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
       (:NAME "*HTTP-DEBUG*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)))
     :DOCUMENTATION
     "given a URL, a MIME content type, and the content as a character 
stream, POST to the URL and return the list of three elements as 
described for [http-get][].")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HTTP-RESOLVE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "HTTP-METHOD" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
       ((:NAME "QUOTE" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
        (:NAME "HTTP-GET" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)))
      ((:NAME "SIGNAL-ERROR?" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
      ((:NAME "VERBOSE?" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
       (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "Similar to [http-get][], `http-resolve` returns a list of four 
elements: the HTTP response code, the headers, the stream 
and the resolved URL. HTTP-response resolves 301 and 302 
responses, and signals an error on responses greater 
than 400. If there is not an error, then the caller is responsible
for closing the HTTP stream.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HTTP-DOWNLOAD" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "DESTINATION" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "SIGNAL-ERROR?" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
       (:NAME "T" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)))
     :DOCUMENTATION
     "Resolves `url` using http-resolve and downloads the contents of the 
stream it to `destination`. Destination is assumed to be a file. 
Returns (as multiple values) the number of elements downloaded 
(e.g., bytes) and the actual URL.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DOWNLOAD-STREAM" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "DESTINATION" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "EXPECTED-LENGTH" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "OPEN-FILE-ARGUMENTS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "URL-PATH" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "URL-PORT" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "URL-HOST" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RESPONSE-READ-CODE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "RESPONSE-READ-HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "STREAM" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL)
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*STREAM-BUFFER-SIZE*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "8192")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COPY-STREAM" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FROM" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "TO" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION
     "Copy into TO from FROM until end of the input stream, in blocks of
*stream-buffer-size*.  The streams should have the same element type.
Returns the total number of 'elements' read and written.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "URL-RESERVED-CHARACTER-P" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "C" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "ESCAPE-URL-QUERY" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :LAMBDA-LIST ((:NAME "QUERY" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION
     "Escapes a query string in accordance with the HTTP specification.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HEADER-VALUE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION
     "Searchers headers for name _without_ case sensitivity. Headers 
should be an alist mapping symbols to values; name a symbol. 
Returns the value if name is found or nil if it is not.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "HEADER-PAIR" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
     :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
      (:NAME "HEADERS" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL))
     :DOCUMENTATION
     "Searches headers for name _without_ case sensitivity. Headers 
should be an alist mapping symbols to values; name a symbol. 
Returns the (name value) pair if name is found or nil if it is not.")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*ENCODE-TABLE*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE
     "\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "BASE64-ENCODE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP NIL)
     :LAMBDA-LIST ((:NAME "STRING" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T))
     :DOCUMENTATION NIL))
   :EXTERNAL-SYMBOLS
   ((:NAME "HTTP-DOWNLOAD" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "DOWNLOAD-LENGTH-CLAIMED" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "DOWNLOAD-RESPONSE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "DOWNLOAD-COMMAND" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "*USER-AGENT*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "DOWNLOAD-LENGTH-DOWNLOADED" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
     T)
    (:NAME "DOWNLOAD-URL" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "HTTP-HEAD" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "ESCAPE-URL-QUERY" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "*HTTP-DEBUG*" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "HTTP-RESOLVE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "HTTP-POST" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "HEADER-PAIR" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "STREAM-FROM" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "STREAM-TO" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "DOWNLOAD-ERROR" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "HTTP-GET" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)
    (:NAME "INCOMPATIBLE-STREAM-ERROR" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP
     T)
    (:NAME "MISMATCHED-DOWNLOAD-SIZE-ERROR" :PACKAGE-NAME "TRIVIAL-HTTP"
     :EXTERNALP T)
    (:NAME "HEADER-VALUE" :PACKAGE-NAME "TRIVIAL-HTTP" :EXTERNALP T)))))
