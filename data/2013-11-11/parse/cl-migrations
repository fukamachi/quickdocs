
(:TYPE :SYSTEM :NAME "cl-migrations" :AUTHOR NIL :MAINTAINER NIL :VERSION
 "0.0.3" :LICENCE NIL :DESCRIPTION NIL :LONG-DESCRIPTION NIL :DEPENDS-ON
 ("CLSQL") :PACKAGE-LIST
 ((:TYPE :PACKAGE :NAME "CL-MIGRATIONS" :FULL-NAME "CL-MIGRATIONS"
   :DOCUMENTATION "Database Migrations for Common Lisp" :SYMBOL-LIST
   ((:TYPE :VARIABLE :SYMBOL
     (:NAME "*CONFIG-PATHNAME*" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
     :DOCUMENTATION NIL :INITIAL-VALUE
     "(MAKE-PATHNAME :NAME \".migrate\" :TYPE \"conf\" :DEFAULTS (USER-HOMEDIR-PATHNAME))")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*MIGRATION-DIR*" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "NIL")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "+ALL-DB-TYPES+" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE
     "'(:POSTGRESQL :POSTGRESQL-SOCKET :MYSQL :SQLITE :SQLITE3 :ODBC :ORACLE)")
    (:TYPE :VARIABLE :SYMBOL
     (:NAME "*SCHEMA-TABLE-NAME*" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :DOCUMENTATION NIL :INITIAL-VALUE "\"schema_info\"")
    (:TYPE :CLASS :SYMBOL
     (:NAME "CONN-SPECS" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :SUPER-CLASS-LIST NIL :DOCUMENTATION
     "Connection specs for CLSQL for different databases" :SLOT-LIST
     ((:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "AODBC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL) :ACCESSORS
       ((:NAME "AODBC-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "MYSQL" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL) :ACCESSORS
       ((:NAME "MYSQL-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "POSTGRESQL" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "POSTGRESQL-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "POSTGRESQL-SOCKET" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "POSTGRESQL-SOCKET-SPEC" :PACKAGE-NAME "CL-MIGRATIONS"
         :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "SQLITE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL) :ACCESSORS
       ((:NAME "SQLITE-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "SQLITE3" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
       :ACCESSORS
       ((:NAME "SQLITE3-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "ODBC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL) :ACCESSORS
       ((:NAME "ODBC-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)
      (:TYPE :CLASS-SLOT :SYMBOL
       (:NAME "ORACLE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL) :ACCESSORS
       ((:NAME "ORACLE-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
       :READERS NIL :WRITERS NIL :DOCUMENTATION NIL)))
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "READ-SPECS" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      ((:NAME "PATH" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
       (:NAME "*CONFIG-PATHNAME*" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)))
     :DOCUMENTATION
     "Read database and migrations directory specs and set respective variables.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SPEC-FN" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "DB-TYPE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DB-TYPE-SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "DB-TYPE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INIT-CONNECTION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "DB-TYPE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CLEAN" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Connect to the database; Truncate database if clean flag is set.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "LOAD-NECESSARY-SYSTEMS" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "SPEC" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CLEAN" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION "Load the matching database type")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CREATE-SCHEMA-TABLE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Check for schema table and create if it does not exist.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INIT-CONFIG" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "&OPTIONAL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "CLEAN" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Load database configuration and create a connection if none exists.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "CONNECT-DB" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DISCONNECT-DB" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-DB-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "INCF-DB-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "DECF-DB-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-MIGRATION-NUMBER" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP
      NIL)
     :LAMBDA-LIST ((:NAME "FILE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "COMPARE-FILES" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FILE1" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "FILE2" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION NIL)
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-MIGRATION-FILES" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION
     "Get all files from the migrations directory, and sort them numerically.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-LATEST-MIGRATION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP
      NIL)
     :LAMBDA-LIST (:NAME "NIL" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
     :DOCUMENTATION "Get the version of latest migration available.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GENERATE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "NAME" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Generate an empty migration file with an assigned version number.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "GET-FILE-RANGE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "FROM" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "TO" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Get the migration files within the given range, in ascending order.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "SELECT-MIGRATION-FILES" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP
      NIL)
     :LAMBDA-LIST
     ((:NAME "DB-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "MIG-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Return migration files in ascending or descending order based on 
   whether migrating up or down respectively.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "EXEC-MIGRATIONS" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
     :LAMBDA-LIST
     ((:NAME "DB-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL)
      (:NAME "MIG-VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION
     "Excute all the migrations within the given range in a transaction.")
    (:TYPE :FUNCTION :SYMBOL
     (:NAME "MIGRATE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T) :LAMBDA-LIST
     ((:NAME "&KEY" :PACKAGE-NAME "COMMON-LISP" :EXTERNALP T)
      (:NAME "VERSION" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP NIL))
     :DOCUMENTATION "Initiate migration procedure."))
   :EXTERNAL-SYMBOLS
   ((:NAME "*CONFIG-PATHNAME*" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
    (:NAME "MIGRATE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
    (:NAME "DISCONNECT-DB" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
    (:NAME "GENERATE" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)
    (:NAME "CONNECT-DB" :PACKAGE-NAME "CL-MIGRATIONS" :EXTERNALP T)))))
